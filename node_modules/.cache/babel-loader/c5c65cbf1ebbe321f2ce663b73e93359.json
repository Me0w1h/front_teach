{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'stu',\n  data: function data() {\n    return {\n      user: {\n        id: '',\n        username: '',\n        password: '',\n        name: '',\n        className: '',\n        classId: '',\n        school: '',\n        exam: ''\n      },\n      exams: {\n        id: '',\n        examName: '',\n        date: '',\n        status: '',\n        description: ''\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.testlogin();\n  },\n  methods: {\n    sleep: function sleep(n) {\n      var start = new Date().getTime();\n\n      while (true) {\n        if (new Date().getTime() - start > n) {\n          break;\n        }\n      }\n    },\n    //登录请求\n    testlogin: function testlogin() {\n      var _this = this;\n\n      axios.get(\"http://172.27.241.243/login\").then(function (res) {\n        if (res.data.code == 20001) {\n          _this.user = res.data.data[0];\n          _this.exams = res.data.data[1];\n        } else if (res.data.code == 20000) {\n          _this.$message.error(\"请先登录!!!\");\n\n          _this.sleep(2000);\n\n          location.href = \"http://localhost:8082/login\";\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;EACAA,WADA;EAEAC,IAFA,kBAEA;IACA;MACAC;QACAC,MADA;QAEAC,YAFA;QAGAC,YAHA;QAIAL,QAJA;QAKAM,aALA;QAMAC,WANA;QAOAC,UAPA;QAQAC;MARA,CADA;MAaAC;QACAP,MADA;QAEAQ,YAFA;QAGAC,QAHA;QAIAC,UAJA;QAKAC;MALA;IAbA;EAwBA,CA3BA;EA4BAC,OA5BA,qBA4BA;IACA;EAEA,CA/BA;EAkCAC;IACAC,KADA,iBACAC,CADA,EACA;MACA;;MACA;QACA;UACA;QACA;MACA;IAEA,CATA;IAWA;IACAC,SAZA,uBAYA;MAAA;;MACAC;QAEA;UAEA;UAEA;QAIA,CARA,MAQA;UAEA;;UAEA;;UAGAC;QACA;MAEA,CApBA;IAqBA;EAlCA;AAlCA","names":["name","data","user","id","username","password","className","classId","school","exam","exams","examName","date","status","description","mounted","methods","sleep","n","testlogin","axios","location"],"sourceRoot":"views/stu","sources":["stu.vue"],"sourcesContent":["<template>\r\n<div>我是学生以登录页面\r\n<!-- <span>你好！{{this.user.name}}!!!<BR>\r\n        学号:{{this.user.username}}<BR>\r\n        班级:{{this.user.className}}<BR>\r\n        学校:{{this.user.school}}<BR> -->\r\n\r\n    <!-- </span> -->\r\n    <p>已参加考试</p>\r\n    <el-table\r\n            :data=\"exams\"\r\n            style=\"width: 100%\">\r\n        <el-table-column\r\n                prop=\"examName\"\r\n                label=\"考试名称\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"date\"\r\n                label=\"时间\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"description\"\r\n                label=\"描述\">\r\n        </el-table-column>\r\n    </el-table>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default{\r\n    name:'stu',\r\n    data(){\r\n        return {\r\n                user:{\r\n                    id:'',\r\n                    username:'',\r\n                    password:'',\r\n                    name:'',\r\n                    className:'',\r\n                    classId:'',\r\n                    school:'',\r\n                    exam:'',\r\n\r\n\r\n                },\r\n                exams:{\r\n                    id:'',\r\n                    examName:'',\r\n                    date:'',\r\n                    status:'',\r\n                    description:'',\r\n\r\n                },\r\n\r\n\r\n            }\r\n    },\r\n    mounted(){\r\n            this.testlogin();\r\n\r\n        },\r\n\r\n\r\n        methods:{\r\n            sleep(n) {\r\n                    var start = new Date().getTime();\r\n                    while (true) {\r\n                    if (new Date().getTime() - start > n) {\r\n                        break;\r\n                    }\r\n        }\r\n       \r\n    },\r\n\r\n            //登录请求\r\n            testlogin(){\r\n                axios.get(\"http://172.27.241.243/login\").then(res => {\r\n\r\n                    if (res.data.code==20001){\r\n\r\n                        this.user=res.data.data[0];\r\n\r\n                        this.exams =res.data.data[1];\r\n\r\n\r\n\r\n                    }else if (res.data.code==20000){\r\n\r\n                        this.$message.error(\"请先登录!!!\");\r\n\r\n                        this.sleep(2000);\r\n\r\n\r\n                        location.href=\"http://localhost:8082/login\"\r\n                    }\r\n\r\n                })\r\n            }\r\n\r\n\r\n\r\n        }   \r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}