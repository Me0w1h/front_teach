{"ast":null,"code":"import \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\naxios.defaults.withCredentials = true;\nexport default {\n  name: 'stu',\n  data: function data() {\n    return {\n      disabledbt: '',\n      commitData: [],\n      input1: \"\",\n      input2: \"\",\n      pk: '',\n      dividerData: {\n        examName: \"\",\n        description: '',\n        date: \"\",\n        id: '',\n        score: \"\"\n      },\n      drawer: false,\n      direction: 'rtl',\n      valueDate: new Date(),\n      userImg: require('../../src/assets/images/userImg.jpg'),\n      user: {\n        id: '',\n        username: '',\n        password: '',\n        name: '',\n        className: '',\n        classId: '',\n        school: '',\n        exam: ''\n      },\n      exams: {\n        id: '',\n        examName: '',\n        date: '',\n        status: '',\n        description: ''\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.testlogin();\n  },\n  methods: {\n    reset: function reset() {\n      this.input1 = '';\n      this.input2 = '';\n    },\n    submitScore: function submitScore() {\n      var _this = this;\n\n      if (this.input1 === this.input2) {\n        this.dividerData.score = this.input1;\n        this.commitData[0] = this.user.id;\n        this.commitData[1] = this.dividerData.id;\n        this.commitData[2] = this.dividerData.score;\n        axios.post(\"#\", this.commitData).then(function (res) {\n          if (res.data.code == 20010) {\n            _this.$message.error(_this.data.msg);\n          } else if (res.data.code == 20011) {\n            _this.$message.sucess(_this.data.msg);\n\n            disabledbt = true;\n          }\n        });\n        this.reset();\n      } else {\n        this.$message.error(\"请确保两次填写相同！！！\");\n      }\n    },\n    handleClose: function handleClose(done) {\n      var _this2 = this;\n\n      this.$confirm('确认关闭？').then(function (_) {\n        done();\n        _this2.disabledbt = false;\n      }).catch(function (_) {});\n    },\n    mima: function mima() {\n      window.alert(\"修改密码\");\n    },\n    submit: function submit(val) {\n      this.drawer = true;\n      this.dividerData.examName = val.examName;\n      this.dividerData.date = val.date;\n      this.dividerData.description = val.description;\n      this.dividerData.id = val.id;\n    },\n    sleep: function sleep(n) {\n      var start = new Date().getTime();\n\n      while (true) {\n        if (new Date().getTime() - start > n) {\n          break;\n        }\n      }\n    },\n    //登录请求\n    testlogin: function testlogin() {\n      var _this3 = this;\n\n      axios.get(\"http://localhost/login\").then(function (res) {\n        if (res.data.code == 20001) {\n          _this3.user = res.data.data[0];\n          _this3.exams = res.data.data[1];\n          _this3.pk = res.data.data[2];\n        } else if (res.data.code == 20000) {\n          _this3.$message.error(\"请先登录!!!\");\n\n          _this3.sleep(1000);\n\n          location.href = \"http://localhost:8081/login\";\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyIA;AACAA;AACA;EACAC,WADA;EAEAC,IAFA,kBAEA;IACA;MACAC,cADA;MAEAC,cAFA;MAGAC,UAHA;MAIAC,UAJA;MAKAC,MALA;MAMAC;QACAC,YADA;QAEAC,eAFA;QAGAC,QAHA;QAIAC,MAJA;QAKAC;MALA,CANA;MAeAC,aAfA;MAgBAC,gBAhBA;MAiBAC,qBAjBA;MAkBAC,uDAlBA;MAmBAC;QACAN,MADA;QAEAO,YAFA;QAGAC,YAHA;QAIAnB,QAJA;QAKAoB,aALA;QAMAC,WANA;QAOAC,UAPA;QAQAC;MARA,CAnBA;MA+BAC;QACAb,MADA;QAEAH,YAFA;QAGAE,QAHA;QAIAe,UAJA;QAKAhB;MALA;IA/BA;EA0CA,CA7CA;EA8CAiB,OA9CA,qBA8CA;IACA;EAEA,CAjDA;EAoDAC;IACAC,KADA,mBACA;MACA;MACA;IACA,CAJA;IAKAC,WALA,yBAKA;MAAA;;MACA;QACA;QACA;QACA;QACA;QACA9B;UACA;YACA;UACA,CAFA,MAEA;YACA;;YACAG;UACA;QACA,CAPA;QAQA;MAIA,CAjBA,MAiBA;QACA;MACA;IACA,CA1BA;IA2BA4B,WA3BA,uBA2BAC,IA3BA,EA2BA;MAAA;;MACA,uBACAC,IADA,CACA;QAEAD;QACA;MACA,CALA,EAMAE,KANA,CAMA,eANA;IAOA,CAnCA;IAoCAC,IApCA,kBAoCA;MACAC;IACA,CAtCA;IAuCAC,MAvCA,kBAuCAC,GAvCA,EAuCA;MAEA;MACA;MACA;MACA;MACA;IACA,CA9CA;IAgDAC,KAhDA,iBAgDAC,CAhDA,EAgDA;MACA;;MACA;QACA;UACA;QACA;MACA;IAEA,CAxDA;IA0DA;IACAC,SA3DA,uBA2DA;MAAA;;MACAzC;QAEA;UAEA;UAEA;UACA;QAIA,CATA,MASA;UAEA;;UAEA;;UAGA0C;QACA;MAEA,CArBA;IAsBA;EAlFA;AApDA","names":["axios","name","data","disabledbt","commitData","input1","input2","pk","dividerData","examName","description","date","id","score","drawer","direction","valueDate","userImg","user","username","password","className","classId","school","exam","exams","status","mounted","methods","reset","submitScore","handleClose","done","then","catch","mima","window","submit","val","sleep","n","testlogin","location"],"sourceRoot":"views/stu","sources":["stu.vue"],"sourcesContent":["<template>\r\n<div>\r\n    <el-row>\r\n  <el-col :span=\"9\"><div class=\"grid-content bg-purple-dark\"></div></el-col>\r\n  <el-col :span=\"4\"><div class=\"grid-content bg-purple-dark\">我是学生以登录页面</div></el-col>\r\n  <el-col :span=\"10\"><div class=\"grid-content bg-purple-dark\"></div></el-col>\r\n  <el-col :span=\"1\"><div class=\"grid-content bg-purple-dark\"><el-button round size=\"mini\" @click=\"mima\">修改密码</el-button></div></el-col>\r\n</el-row>\r\n\r\n<el-row >\r\n    <el-col :span=\"12\">\r\n    <el-divider><i class=\"el-icon-alarm-clock\">日 <el-divider direction=\"vertical\"></el-divider>历</i></el-divider>\r\n<el-calendar v-model=\"valueDate\">\r\n\r\n</el-calendar>\r\n<el-divider direction=\"vertical\"></el-divider>\r\n\r\n\r\n</el-col>\r\n \r\n       \r\n    \r\n\r\n\r\n<el-col :span=\"12\">\r\n<el-divider><i class=\"el-icon-user-solid\">个人信息</i></el-divider>\r\n  <el-card shadow=\"hover\">\r\n                <div class=\"user\">\r\n                    <img  style=\"width: 10%;\" :src=\"userImg\"/>\r\n                    <div class=\"userInfo\">\r\n                        <p class=\"name\">姓名：{{this.user.name}}</p>\r\n                        <p class=\"access\">学号：{{this.user.username}}</p>\r\n                        <p class=\"name\">班级：{{this.user.className}}</p>\r\n                        <p class=\"name\">学校：{{this.user.school}}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"login-info\">\r\n                    <p>上次登录时间：<span>1111-11-11</span></p>\r\n                    <p>上次登录地点：<span>山东-济南</span></p>\r\n                </div>\r\n                \r\n            </el-card>\r\n<el-divider><i class=\"el-icon-edit-outline\"> 已参加考试</i></el-divider>\r\n            <el-card class=\"box-card\">\r\n  <div >\r\n    <el-table\r\n            :data=\"exams\"\r\n            style=\"width: 100%\">\r\n        <el-table-column\r\n                prop=\"examName\"\r\n                label=\"考试名称\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"date\"\r\n                label=\"时间\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"description\"\r\n                label=\"描述\">\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n        <el-link icon=\"el-icon-edit\" @click=\"submit(scope.row)\">提交成绩</el-link>\r\n      </template>\r\n                \r\n        </el-table-column>\r\n    </el-table>\r\n\r\n  </div>\r\n</el-card>\r\n            </el-col>\r\n\r\n</el-row>\r\n\r\n<el-drawer\r\n  title=\"成绩提交\"\r\n  :visible.sync=\"drawer\"\r\n  :direction=\"direction\"\r\n  :before-close=\"handleClose\">\r\n \r\n<Br></Br>\r\n  <el-card>\r\n     <el-divider><i class=\"el-icon-document\">考试详情</i></el-divider>\r\n     \r\n     <p>考试名称：{{this.dividerData.examName}}</p><Br></Br>\r\n     <p>截止日期：{{this.dividerData.date}}</p><Br></Br>\r\n     <p>描述：{{this.dividerData.description}}</p><Br></Br>\r\n\r\n\r\n  </el-card>\r\n <Br></Br>\r\n  <el-card>\r\n     <el-divider><i class=\"el-icon-document\">提交成绩</i></el-divider>\r\n     <div class=\"demo-input-suffix\">\r\n    成绩：<br></br>\r\n    <el-input\r\n        placeholder=\"请填写成绩\"\r\n        prefix-icon=\"el-icon-edit\"\r\n         v-model=\"input1\">\r\n      </el-input>\r\n      <br></br>\r\n      再次确认：\r\n      <br></br>\r\n    <el-input\r\n        placeholder=\"请填写成绩\"\r\n        prefix-icon=\"el-icon-edit\"\r\n         v-model=\"input2\">\r\n      </el-input>\r\n      <br></br>\r\n      <br></br>\r\n      <br></br>\r\n      <br></br>\r\n\r\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#12288;&#12288;&#12288;&#12288;&#12288;\r\n      \r\n      <el-button size=\"medium \" type=\"primary\" plain @click=\"submitScore\" disabledbt=\"false\">提交成绩</el-button>\r\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#12288;&#12288;&#12288;&#12288;&#12288;\r\n      <el-button size=\"small \" @click=\"reset\">重置</el-button>\r\n  \r\n    </div>\r\n    \r\n\r\n\r\n  </el-card>\r\n  <el-divider></el-divider>\r\n    \r\n \r\n</el-drawer>\r\n\r\n  \r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\naxios.defaults.withCredentials = true;\r\nexport default{\r\n    name:'stu',\r\n    data(){\r\n        return {\r\n          disabledbt:'',\r\n          commitData:[],\r\n          input1:\"\",\r\n          input2:\"\",\r\n          pk:'',\r\n          dividerData:{\r\n              examName:\"\",\r\n              description:'',\r\n              date:\"\",\r\n              id:'',\r\n              score:\"\",\r\n              \r\n          },\r\n\r\n          drawer: false,\r\n        direction: 'rtl',\r\n          valueDate: new Date(),\r\n          userImg:require('../../src/assets/images/userImg.jpg'),\r\n                user:{\r\n                    id:'',\r\n                    username:'',\r\n                    password:'',\r\n                    name:'',\r\n                    className:'',\r\n                    classId:'',\r\n                    school:'',\r\n                    exam:'',\r\n\r\n\r\n                },\r\n                exams:{\r\n                    id:'',\r\n                    examName:'',\r\n                    date:'',\r\n                    status:'',\r\n                    description:'',\r\n\r\n                },\r\n\r\n\r\n            }\r\n    },\r\n    mounted(){\r\n            this.testlogin();\r\n\r\n        },\r\n\r\n\r\n        methods:{\r\n          reset(){\r\n            this.input1='';\r\n            this.input2='';\r\n          },\r\n          submitScore(){\r\n              if(this.input1===this.input2){\r\n                this.dividerData.score=this.input1;\r\n                this.commitData[0]=this.user.id;\r\n                this.commitData[1]=this.dividerData.id;\r\n                this.commitData[2]=this.dividerData.score;\r\n                axios.post(\"#\",this.commitData).then(res=>{\r\n                  if(res.data.code==20010){\r\n                    this.$message.error(this.data.msg)\r\n                  }else if(res.data.code==20011){\r\n                    this.$message.sucess(this.data.msg) \r\n                    disabledbt=true;\r\n                  }\r\n                })\r\n                this.reset();\r\n\r\n\r\n\r\n              }else{\r\n                this.$message.error(\"请确保两次填写相同！！！\")\r\n              }\r\n          },\r\n          handleClose(done) {\r\n        this.$confirm('确认关闭？')\r\n          .then(_ => {\r\n            \r\n            done();\r\n            this.disabledbt=false;\r\n          })\r\n          .catch(_ => {});\r\n      },\r\n          mima(){\r\n            window.alert(\"修改密码\")\r\n          },\r\n            submit(val){\r\n                \r\n                this.drawer = true;\r\n                this.dividerData.examName = val.examName;\r\n                this.dividerData.date = val.date;\r\n                this.dividerData.description = val.description;\r\n                this.dividerData.id = val.id;\r\n            },\r\n            \r\n            sleep(n) {\r\n                    var start = new Date().getTime();\r\n                    while (true) {\r\n                    if (new Date().getTime() - start > n) {\r\n                        break;\r\n                    }\r\n        }\r\n       \r\n    },\r\n\r\n            //登录请求\r\n            testlogin(){\r\n                axios.get(\"http://localhost/login\").then(res => {\r\n\r\n                    if (res.data.code==20001){\r\n\r\n                        this.user=res.data.data[0];\r\n\r\n                        this.exams =res.data.data[1];\r\n                        this.pk =res.data.data[2];\r\n\r\n\r\n\r\n                    }else if (res.data.code==20000){\r\n\r\n                        this.$message.error(\"请先登录!!!\");\r\n\r\n                        this.sleep(1000);\r\n\r\n\r\n                        location.href=\"http://localhost:8081/login\"\r\n                    }\r\n\r\n                })\r\n            }\r\n\r\n\r\n\r\n        }   \r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n  .el-row {\r\n    margin-bottom: 20px;\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n  .el-col {\r\n    border-radius: 4px;\r\n  }\r\n  .bg-purple-dark {\r\n    background: #bdc4cd;\r\n  }\r\n  .bg-purple {\r\n    background: #d3dce6;\r\n  }\r\n  .bg-purple-light {\r\n    background: #cbd0dd;\r\n  }\r\n  .grid-content {\r\n    border-radius: 4px;\r\n    min-height: 36px;\r\n  }\r\n  .row-bg {\r\n    padding: 10px 0;\r\n    background-color: #f9fafc;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}