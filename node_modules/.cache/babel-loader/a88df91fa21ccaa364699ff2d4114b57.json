{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\n\nvar BigInteger = require('jsbn').BigInteger;\n\nvar SecureRandom = require('jsbn').SecureRandom;\n\nexport default {\n  name: 'home',\n  data: function data() {\n    return {\n      url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg',\n      exams: {\n        id: \"\",\n        examName: \"\",\n        date: \"\",\n        description: \"\",\n        status: \"\"\n      },\n      classes: {\n        classId: '',\n        className: '',\n        count: '',\n        score: '',\n        total: \"\"\n      },\n      n: '',\n      n2: \"\",\n      m: \"\",\n      rncache: [],\n      bits: 32\n    };\n  },\n  mounted: function mounted() {\n    this.getexams();\n    window.alert(this.exams);\n  },\n  methods: {\n    testp: function testp() {\n      window.alert(\"test\");\n      this.n = new BigInteger('1529340503');\n      window.alert(\"test1\");\n      this.n2 = this.n.square();\n      window.alert(\"test2\");\n      window.alert(this.n2);\n      window.alert(\"test3\");\n      this.m = new BigInteger('10');\n      window.alert(\"test4\");\n      window.alert(\"RN\" + this.getRN());\n      window.alert(this.n.multiply(this.m).add(BigInteger.ONE).mod(this.n2));\n      window.alert;\n    },\n    randomize: function randomize(a) {\n      return a.multiply(this.getRN()).mod(this.n2);\n    },\n    getRN: function getRN() {\n      var r,\n          rng = new SecureRandom();\n\n      do {\n        r = new BigInteger(this.bits, rng); // make sure r <= n\n      } while (r.compareTo(this.n) >= 0);\n\n      return r.modPow(this.n, this.n2);\n    },\n    getexams: function getexams() {\n      var _this = this;\n\n      axios.get(\"http://172.27.216.250/exams\").then(function (res) {\n        _this.exams = res.data.data;\n      });\n    },\n    tologin: function tologin() {\n      location.href = \"http://172.27.216.250:8081/login\";\n    },\n    handleClick: function handleClick(row) {\n      var _this2 = this;\n\n      axios.get(\"http://172.27.216.250/texam/\" + row.id).then(function (res) {\n        if (res.data.code == '20041') {\n          _this2.classes = res.data.data;\n\n          for (var index = 0; index < _this2.classes.length; index++) {\n            var element = _this2.classes[index];\n\n            if (element.count < element.total) {\n              element.score = '未统计完成';\n            }\n          }\n        } else {\n          _this2.$message.error(\"获取失败！\");\n        }\n      });\n    },\n    tableRowClassName: function tableRowClassName(_ref) {\n      var row = _ref.row,\n          rowIndex = _ref.rowIndex;\n\n      if (rowIndex === 1) {\n        return 'warning-row';\n      } else if (rowIndex === 3) {\n        return 'success-row';\n      }\n\n      return '';\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;;AACA;;AACA;;AAEA;EACAA,YADA;EAEAC,IAFA,kBAEA;IACA;MACAC,8EADA;MAGAC;QACAC,MADA;QAEAC,YAFA;QAGAC,QAHA;QAIAC,eAJA;QAKAC;MALA,CAHA;MAUAC;QACAC,WADA;QAEAC,aAFA;QAGAC,SAHA;QAIAC,SAJA;QAKAC;MALA,CAVA;MAiBAC,KAjBA;MAkBAC,MAlBA;MAmBAC,KAnBA;MAoBAC,WApBA;MAqBAC;IArBA;EAyBA,CA5BA;EA6BAC,OA7BA,qBA6BA;IAKA;IACAC;EACA,CApCA;EAqCAC;IACAC,KADA,mBACA;MACAF;MACA;MACAA;MACA;MACAA;MACAA;MACAA;MACA;MACAA;MACAA;MAEAA;MACAA;IACA,CAfA;IAgBAG,SAhBA,qBAgBAC,CAhBA,EAgBA;MAEA;IACA,CAnBA;IAoBAC;MACA;MAAA;;MACA;QACAC,mCADA,CAEA;MACA,CAHA,QAGAA,wBAHA;;MAIA;IACA,CA3BA;IA4BAC,QA5BA,sBA4BA;MAAA;;MACAC;QACA;MACA,CAFA;IAGA,CAhCA;IAoCAC,OApCA,qBAoCA;MACAC;IACA,CAtCA;IAuCAC,WAvCA,uBAuCAC,GAvCA,EAuCA;MAAA;;MACAJ;QACA;UACA;;UACA;YACA;;YACA;cACAK;YACA;UAEA;QACA,CATA,MASA;UACA;QACA;MAEA,CAdA;IAeA,CAvDA;IAwDAC,iBAxDA,mCAwDA;MAAA;MAAA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;;MACA;IACA;EA/DA;AArCA","names":["name","data","url","exams","id","examName","date","description","status","classes","classId","className","count","score","total","n","n2","m","rncache","bits","mounted","window","methods","testp","randomize","a","getRN","r","getexams","axios","tologin","location","handleClick","row","element","tableRowClassName"],"sourceRoot":"views/home","sources":["index.vue"],"sourcesContent":["<template>\r\n<div>\r\n    <el-row>\r\n  <el-col :span=\"9\"><div class=\"grid-content bg-purple-dark\"></div></el-col>\r\n  <el-col :span=\"6\"><div class=\"grid-content bg-purple-light\"><div style=\"margin-top: 8px\">&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;教 育 测 评 展 示</div></div></el-col>\r\n  <el-col :span=\"8\"><div class=\"grid-content bg-purple-dark\"></div></el-col>\r\n  <el-col :span=\"1\"><div class=\"grid-content bg-purple\"><el-button @click=\"tologin\">登录</el-button></div></el-col>\r\n</el-row>\r\n<el-row>\r\n    <el-col :span=\"6\"> <el-card>\r\n        <el-divider>写点什么</el-divider>\r\n        <el-image\r\n      style=\"width: 500px; height: 400px\"\r\n      :src=\"url\"\r\n      :fit=\"fit\"></el-image>\r\n    </el-card></el-col>\r\n    <el-col :span=\"12\">\r\n        <el-card>\r\n            <el-divider><i class=\"el-icon-tickets\">最近考试</i></el-divider>\r\n        \r\n            <el-table\r\n      :data=\"exams\"\r\n      style=\"width: 100%\"\r\n      :row-class-name=\"tableRowClassName\">\r\n      <el-table-column\r\n        prop=\"examName\"\r\n        label=\"日期\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"date\"\r\n        label=\"姓名\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"description\"\r\n        label=\"地址\">\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n        <el-link icon=\"el-icon-view\"  underline @click=\"handleClick(scope.row)\">查看详情</el-link>\r\n      </template>\r\n                \r\n        </el-table-column>\r\n      \r\n    </el-table>\r\n        </el-card>\r\n\r\n    </el-col>\r\n    <el-col :span=\"6\"> <el-card>\r\n        <el-divider>也得写点什么</el-divider>\r\n        <el-image\r\n      style=\"width: 500px; height: 400px\"\r\n      :src=\"url\"\r\n      :fit=\"fit\"></el-image>\r\n    </el-card></el-col>\r\n</el-row>\r\n<el-row>\r\n    <el-col>\r\n        <el-card>\r\n            <el-divider  icon=\"el-icon-document\">考试详情</el-divider>\r\n            <el-table\r\n      :data=\"classes\"\r\n      style=\"width: 100%\"\r\n      :row-class-name=\"tableRowClassName\">\r\n      <el-table-column\r\n        prop=\"className\"\r\n        label=\"班级名称\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"count\"\r\n        label=\"已填写人数\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"total\"\r\n        label=\"总人数\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"score\"\r\n        label=\"平均分\">\r\n      </el-table-column>\r\n      \r\n      \r\n    </el-table>\r\n        </el-card>\r\n    </el-col>\r\n</el-row>\r\n<el-button @click=\"testp\">1111</el-button>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nvar BigInteger = require('jsbn').BigInteger;\r\nvar SecureRandom = require('jsbn').SecureRandom;\r\n\r\nexport default{\r\n    name:'home',\r\n    data(){\r\n        return {\r\n            url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg',\r\n            \r\n            exams: {\r\n                id:\"\",\r\n                examName:\"\",\r\n                date:\"\",\r\n                description:\"\",\r\n                status:\"\"\r\n            },\r\n            classes:{\r\n                classId:'',\r\n                className:'',\r\n                count:'',\r\n                score:'',\r\n                total:\"\"\r\n            },\r\n            n:'',\r\n            n2:\"\",\r\n            m:\"\",\r\n            rncache : [],\r\n            bits:32\r\n\r\n             \r\n        }\r\n    } ,\r\n    mounted(){\r\n\r\n\r\n\r\n      \r\n           this.getexams();\r\n           window.alert(this.exams)\r\n        }, \r\n        methods:{\r\n          testp(){\r\n            window.alert(\"test\")\r\n            this.n = new BigInteger('1529340503');\r\n            window.alert(\"test1\")\r\n            this.n2 = this.n.square(); \r\n            window.alert(\"test2\")\r\n            window.alert(this.n2)\r\n            window.alert(\"test3\")\r\n            this.m =new BigInteger('10');\r\n            window.alert(\"test4\")\r\n            window.alert(\"RN\"+this.getRN())\r\n\r\n           window.alert(this.n.multiply(this.m).add(BigInteger.ONE).mod(this.n2));\r\n           window.alert\r\n          },\r\n          randomize (a) {\r\n              \r\n              return (a.multiply(this.getRN())).mod(this.n2);\r\n            },\r\n            getRN: function () {\r\n                var r, rng = new SecureRandom();\r\n                do {\r\n                  r = new BigInteger(this.bits, rng);\r\n                  // make sure r <= n\r\n                } while (r.compareTo(this.n) >= 0);\r\n                return r.modPow(this.n, this.n2);\r\n              },\r\n            getexams(){\r\n                axios.get(\"http://172.27.216.250/exams\").then(res=>{\r\n                    this.exams = res.data.data;\r\n                })\r\n            }\r\n            ,\r\n\r\n\r\n            tologin(){\r\n                location.href=\"http://172.27.216.250:8081/login\"\r\n            },\r\n            handleClick(row){\r\n                axios.get(\"http://172.27.216.250/texam/\"+row.id).then(res=>{\r\n                    if(res.data.code=='20041'){\r\n                        this.classes= res.data.data\r\n                        for (let index = 0; index < this.classes.length; index++) {\r\n                            const element = this.classes[index];\r\n                            if(element.count<element.total){\r\n                                element.score = '未统计完成'\r\n                            }\r\n                            \r\n                        }\r\n                    }else{\r\n                        this.$message.error(\"获取失败！\")\r\n                    }\r\n                    \r\n                })\r\n            },\r\n             tableRowClassName({row, rowIndex}) {\r\n        if (rowIndex === 1) {\r\n          return 'warning-row';\r\n        } else if (rowIndex === 3) {\r\n          return 'success-row';\r\n        }\r\n        return '';\r\n      }\r\n        }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n  \r\n  .el-col {\r\n    border-radius: 4px;\r\n  }\r\n  .bg-purple-dark {\r\n    background: #9acf4cdc;\r\n  }\r\n  .bg-purple {\r\n    background: #d3dce6;\r\n  }\r\n  .bg-purple-light {\r\n    background: #e5e9f2;\r\n  }\r\n  .grid-content {\r\n    border-radius: 4px;\r\n    min-height: 36px;\r\n  }\r\n  .row-bg {\r\n    padding: 10px 0;\r\n    background-color: #f9fafc;\r\n  }\r\n</style>\r\n<style>\r\n  .el-table .warning-row {\r\n    background: oldlace;\r\n  }\r\n\r\n  .el-table .success-row {\r\n    background: #f0f9eb;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}