{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nconst ip = \"localhost:8090\";\nimport axios from 'axios';\n\nvar BigInteger = require('jsbn').BigInteger;\n\nvar SecureRandom = require('jsbn').SecureRandom;\n\nexport default {\n  name: 'home',\n\n  data() {\n    return {\n      url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg',\n      exams: {\n        id: \"\",\n        examName: \"\",\n        date: \"\",\n        description: \"\",\n        status: \"\"\n      },\n      classes: {\n        classId: '',\n        className: '',\n        count: '',\n        score: '',\n        total: \"\"\n      },\n      n: '',\n      n_square: \"\",\n      m: \"\",\n      bits: 32,\n      g: \"\",\n      r: \"\"\n    };\n  },\n\n  mounted() {\n    this.getexams();\n  },\n\n  methods: {\n    getexams() {\n      axios.get(\"http://\" + ip + \"/exams\").then(res => {\n        this.exams = res.data.data;\n      });\n    },\n\n    tologin() {\n      location.href = \"./login.vue\";\n    },\n\n    handleClick(row) {\n      axios.get(\"http://\" + ip + \"/texam/\" + row.id).then(res => {\n        if (res.data.code == '20041') {\n          this.classes = res.data.data;\n\n          for (let index = 0; index < this.classes.length; index++) {\n            const element = this.classes[index];\n\n            if (element.count < element.total) {\n              element.score = '未统计完成';\n            }\n          }\n        } else {\n          this.$message.error(\"获取失败！\");\n        }\n      });\n    },\n\n    tableRowClassName({\n      row,\n      rowIndex\n    }) {\n      if (rowIndex === 1) {\n        return 'warning-row';\n      } else if (rowIndex === 3) {\n        return 'success-row';\n      }\n\n      return '';\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;;AACA;;AACA;;AAEA;EACAA,YADA;;EAEAC;IACA;MACAC,8EADA;MAGAC;QACAC,MADA;QAEAC,YAFA;QAGAC,QAHA;QAIAC,eAJA;QAKAC;MALA,CAHA;MAUAC;QACAC,WADA;QAEAC,aAFA;QAGAC,SAHA;QAIAC,SAJA;QAKAC;MALA,CAVA;MAiBAC,KAjBA;MAkBAC,YAlBA;MAmBAC,KAnBA;MAoBAC,QApBA;MAqBAC,KArBA;MAsBAC;IAtBA;EA0BA,CA7BA;;EA8BAC;IAKA;EAEA,CArCA;;EAsCAC;IAGAC;MACAC;QACA;MACA,CAFA;IAGA,CAPA;;IAWAC;MACAC;IACA,CAbA;;IAcAC;MACAH;QACA;UACA;;UACA;YACA;;YACA;cACAI;YACA;UAEA;QACA,CATA,MASA;UACA;QACA;MAEA,CAdA;IAeA,CA9BA;;IA+BAC;MAAAC;MAAAC;IAAA;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;;MACA;IACA;;EAtCA;AAtCA","names":["name","data","url","exams","id","examName","date","description","status","classes","classId","className","count","score","total","n","n_square","m","bits","g","r","mounted","methods","getexams","axios","tologin","location","handleClick","element","tableRowClassName","row","rowIndex"],"sourceRoot":"views/home","sources":["index.vue"],"sourcesContent":["<template>\r\n<div id='building'>\r\n\r\n  <el-row> \r\n    <el-col :span=\"22\">\r\n      <h1 style=\"color:white ; font-size:50px;font-family:宋体;margin-top: 2%;\">教学测评展示</h1>\r\n    </el-col>\r\n    <el-col :span=\"2\">\r\n      <el-button @click=\"tologin\" style=\"margin-top: 20%;margin-right:5%;\">登录</el-button>\r\n    </el-col>\r\n  </el-row>\r\n\r\n<el-row :gutter=\"100\">\r\n    \r\n    <el-col :span=\"12\">\r\n      <div class=\"grid-content leftmid\">\r\n        <el-card  style=\"background-color: rgba(255,255,255,0.6);\">\r\n            <h1 style=\"font-family:Impact;\"><i class=\"el-icon-tickets\">最近考试</i></h1>\r\n            <br>\r\n            <el-table\r\n      :data=\"exams\"\r\n      style=\"width: 100%\"\r\n      :row-class-name=\"tableRowClassName\">\r\n      <el-table-column\r\n        prop=\"examName\"\r\n        label=\"日期\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"date\"\r\n        label=\"姓名\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"description\"\r\n        label=\"地址\">\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n        <el-link icon=\"el-icon-view\"  underline @click=\"handleClick(scope.row)\">查看详情</el-link>\r\n      </template>\r\n                \r\n        </el-table-column>\r\n      \r\n    </el-table>\r\n        </el-card>\r\n    </div>\r\n    </el-col>\r\n   <el-col :span=\"12\">\r\n   <div class=\"grid-content rightmid\">\r\n        <el-card style=\"background-color: rgba(255,255,255,0.6);\">\r\n            <h1 style=\"font-family:Impact;\">考试详情</h1>\r\n            <br>\r\n            <el-table\r\n      :data=\"classes\"\r\n\r\n      :row-class-name=\"tableRowClassName\">\r\n      <el-table-column\r\n        prop=\"className\"\r\n        label=\"班级名称\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"count\"\r\n        label=\"已填写人数\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"total\"\r\n        label=\"总人数\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"score\"\r\n        label=\"平均分\">\r\n      </el-table-column>\r\n      \r\n      \r\n    </el-table>\r\n        </el-card>\r\n        </div>\r\n    </el-col>\r\n</el-row>\r\n\r\n\r\n</div>\r\n\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nconst ip =\"localhost:8090\";\r\nimport axios from 'axios'\r\nvar BigInteger = require('jsbn').BigInteger;\r\nvar SecureRandom = require('jsbn').SecureRandom;\r\n\r\nexport default{\r\n    name:'home',\r\n    data(){\r\n        return {\r\n            url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg',\r\n            \r\n            exams: {\r\n                id:\"\",\r\n                examName:\"\",\r\n                date:\"\",\r\n                description:\"\",\r\n                status:\"\"\r\n            },\r\n            classes:{\r\n                classId:'',\r\n                className:'',\r\n                count:'',\r\n                score:'',\r\n                total:\"\"\r\n            },\r\n            n:'',\r\n            n_square:\"\",\r\n            m:\"\",\r\n            bits:32,\r\n            g:\"\",\r\n            r:\"\"\r\n\r\n             \r\n        }\r\n    } ,\r\n    mounted(){\r\n\r\n\r\n\r\n      \r\n           this.getexams();\r\n          \r\n        }, \r\n        methods:{\r\n          \r\n           \r\n            getexams(){\r\n                axios.get(\"http://\"+ip+\"/exams\").then(res=>{\r\n                    this.exams = res.data.data;\r\n                })\r\n            }\r\n            ,\r\n\r\n\r\n            tologin(){\r\n                location.href=\"./login.vue\"\r\n            },\r\n            handleClick(row){\r\n                axios.get(\"http://\"+ip+\"/texam/\"+row.id).then(res=>{\r\n                    if(res.data.code=='20041'){\r\n                        this.classes= res.data.data\r\n                        for (let index = 0; index < this.classes.length; index++) {\r\n                            const element = this.classes[index];\r\n                            if(element.count<element.total){\r\n                                element.score = '未统计完成'\r\n                            }\r\n                            \r\n                        }\r\n                    }else{\r\n                        this.$message.error(\"获取失败！\")\r\n                    }\r\n                    \r\n                })\r\n            },\r\n             tableRowClassName({row, rowIndex}) {\r\n        if (rowIndex === 1) {\r\n          return 'warning-row';\r\n        } else if (rowIndex === 3) {\r\n          return 'success-row';\r\n        }\r\n        return '';\r\n      }\r\n        }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n  \r\n  .el-col {\r\n    border-radius: 4px;\r\n  }\r\n  .bg-purple-dark {\r\n    background: #2d082fdf;\r\n  }\r\n  .bg-purple {\r\n    background: #d3dce6;\r\n  }\r\n  .bg-purple-light {\r\n    background: #e5e9f2;\r\n  }\r\n  .grid-content {\r\n    border-radius: 4px;\r\n    min-height: 36px;\r\n  }\r\n  .row-bg {\r\n    padding: 10px 0;\r\n    background-color: #f9fafc;\r\n  }\r\n  .leftmid{\r\n    margin-top: 18%;\r\n    margin-left:10%;\r\n    height: 100%;\r\n    background-color:rgba(255,255,255,0.7);\r\n  }\r\n  .rightmid{\r\n    margin-top: 18%;\r\n    margin-right:10%;\r\n    height: 100%;\r\n    background-color:rgba(255,255,255,0.7);\r\n  }\r\n\r\n</style>\r\n<style>\r\n  .el-table .warning-row {\r\n    background: oldlace;\r\n  }\r\n\r\n  .el-table .success-row {\r\n    background: #f0f9eb;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}